<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Counter-String: Self-Describing Strings</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="file:///usr/share/doc/racket/local-redirect/local-redirect.js"></script><script type="text/javascript" src="file:///home/tuirgin/.racket/6.10/doc/local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Counter-<wbr></wbr>String:<span class="mywbr"> &nbsp;</span> Self-<wbr></wbr>Describing Strings</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Library%29" class="tocviewlink" data-pltdoc="x">Library</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Command_.Line_.Tool%29" class="tocviewlink" data-pltdoc="x">Command Line Tool</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">Counter-<wbr></wbr>String:<span class="mywbr"> &nbsp;</span> Self-<wbr></wbr>Describing Strings</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Library%29" class="tocsubseclink" data-pltdoc="x">Library</a></td></tr><tr><td><a href="#%28def._%28%28lib._counter-string%2Fmain..rkt%29._counter-string%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">counter-<wbr></wbr>string</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Command_.Line_.Tool%29" class="tocsubseclink" data-pltdoc="x">Command Line Tool</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">6.10</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;6.10&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;6.10&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;6.10&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;counter-string/scribblings/counter-string.scrbl&quot;)" x-source-pkg="counter-string" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.Counter-.String__.Self-.Describing_.Strings)"></a>Counter-String: Self-Describing Strings</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Christopher D. Walborn</p></span></div><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>James Bach describes counter strings and offeres his PerlClip
program on his blog:
<a href="http://www.satisfice.com/blog/archives/22">Counterstrings:
Self-Describing Test Data</a>. PerlClip is still available as both a Perl script
and a compiled Windows executable, but it is not suitable for command line usage
where the use of standard output is expected.</p></blockquote></blockquote></blockquote><p>Counter strings are self-documenting strings consisting of character position
references and markers. Each numeric character position reference indicates the
string length at the following marker. The primary application for counter
strings is in testing input to text fields. Given the nature of counter strings
it is immediately apparent when and where truncation has occurred on a string.</p><p>Take, for example, this 64-character counter string:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktVal">"*3*5*7*10*13*16*19*22*25*28*31*34*37*40*43*46*49*52*55*58*61*64*"</span><span class="RktMeta"></span></td></tr></table></blockquote><p>If it had been truncated at 32 characters, it would appear like this:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktVal">"*3*5*7*10*13*16*19*22*25*28*31*3"</span><span class="RktMeta"></span></td></tr></table></blockquote><h3 x-source-module="(lib &quot;counter-string/scribblings/counter-string.scrbl&quot;)" x-source-pkg="counter-string" x-part-tag="&quot;Library&quot;">1<tt>&nbsp;</tt><a name="(part._.Library)"></a><a name="(mod-path._counter-string)"></a>Library</h3><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/docs/6.10/html/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=6.10" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._counter-string%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">counter-string</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <span class="stt">counter-string</span></span></td></tr></table></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._counter-string/main..rkt)._counter-string))"></a><span title="Provided from: counter-string | Package: counter-string"><span class="RktSym"><a href="#%28def._%28%28lib._counter-string%2Fmain..rkt%29._counter-string%29%29" class="RktValDef RktValLink" data-pltdoc="x">counter-string</a></span></span><span class="hspace">&nbsp;</span>[<span class="RktVar">length</span><span class="hspace">&nbsp;</span><span class="RktPn">#:mark</span><span class="hspace">&nbsp;</span><span class="RktVar">marker</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/docs/6.10/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.10" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">length</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/docs/6.10/html/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=6.10" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">256</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">marker</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/docs/6.10/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528lib._racket%252Fstring..rkt%2529._non-empty-string%7E3f%2529%2529&amp;version=6.10" class="RktValLink Sq" data-pltdoc="x">non-empty-string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">"*"</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a counter string of <span class="RktVar">length</span> characters,
where character position indicators are separated with <span class="RktVar">marker</span>.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/docs/6.10/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._substring%2529%2529&amp;version=6.10" class="RktValLink Sq" data-pltdoc="x">substring</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._counter-string%2Fmain..rkt%29._counter-string%29%29" class="RktValLink" data-pltdoc="x">counter-string</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">230</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"2*236*240*244*248*252*256*"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._counter-string%2Fmain..rkt%29._counter-string%29%29" class="RktValLink" data-pltdoc="x">counter-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">30</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"*3*5*7*9*12*15*18*21*24*27*30*"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/docs/6.10/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._substring%2529%2529&amp;version=6.10" class="RktValLink Sq" data-pltdoc="x">substring</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._counter-string%2Fmain..rkt%29._counter-string%29%29" class="RktValLink" data-pltdoc="x">counter-string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:mark</span><span class="hspace">&nbsp;</span><span class="RktVal">"^"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">30</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"^3^5^7^9^12^15^18^21^24^27^30^"</span></p></td></tr></table></blockquote></div></p><p>A multi-character <span class="RktSym">marker</span> is supported. The position indicated is that
of the final character within the marker string.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Just... no. But go ahead if you must.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._counter-string%2Fmain..rkt%29._counter-string%29%29" class="RktValLink" data-pltdoc="x">counter-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">24</span><span class="hspace">&nbsp;</span><span class="RktPn">#:mark</span><span class="hspace">&nbsp;</span><span class="RktVal">"&lt;(&#3232;_&#3232;)&gt;"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"&lt;&lt;&lt;&lt;&lt;&lt;15&lt;(&#3232;_&#3232;)&gt;24&lt;(&#3232;_&#3232;)&gt;"</span></p></td></tr></table></blockquote><h3 x-source-module="(lib &quot;counter-string/scribblings/counter-string.scrbl&quot;)" x-source-pkg="counter-string" x-part-tag="&quot;Command_Line_Tool&quot;">2<tt>&nbsp;</tt><a name="(part._.Command_.Line_.Tool)"></a>Command Line Tool</h3><p>The command line tool&#8212;<wbr></wbr><span class="stt">counter-string.rkt</span>&#8212;<wbr></wbr>is found in the collection&rsquo;s
<span class="stt">bin</span> directory and is simply a wrapper around the <span class="RktSym"><a href="#%28def._%28%28lib._counter-string%2Fmain..rkt%29._counter-string%29%29" class="RktValLink" data-pltdoc="x">counter-string</a></span>
function.</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">counter-string [ &lt;option&gt; ... ] [&lt;length&gt;]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">where &lt;length&gt; is a positive integer : Default: 256.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">where &lt;option&gt; is one of</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">--marker &lt;marker&gt;, -m &lt;marker&gt; : Default: *</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Specify the marker character.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">--help, -h : Show this help</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">-- : Do not treat any remaining argument as a switch (at this level)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Multiple single-letter switches can be combined after one `-'; for</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">example: `-h-' is the same as `-h --'</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Creates a &lt;length&gt; characters long counter string. Each integer</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">indicates the character position of the following &lt;marker&gt;.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Ex. 24 character counter-string: *3*5*7*9*12*15*18*21*24*</span></p></td></tr></table></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;6.10&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;6.10&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;6.10&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>